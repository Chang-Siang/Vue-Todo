(function(t){function e(e){for(var i,s,c=e[0],a=e[1],d=e[2],u=0,m=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);l&&l(e);while(m.length)m.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={index:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=a;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"24e7":function(t,e,n){"use strict";n("e4cc")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Todo")],1)},r=[],s=(n("f9e3"),n("1466"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo container"},[t._m(0),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("TodoInputForm",{on:{handleItemAdd:t.handleItemAdd}})],1)]),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("TodoItemSort",{attrs:{sortType:t.sortType},on:{handleItemSort:t.handleItemSort}})],1)]),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t.isError?n("div",[t._v("An unexpected error has occurred.")]):t.isLoading?n("div",[t._v("isLoading...")]):t._e(),n("ul",{staticClass:"list-group"},t._l(t.items,(function(e){return n("li",{key:e.id,staticClass:"list-group-item list-group-item-action"},[e.isEditing?n("div",[n("TodoEditForm",t._b({key:e.id,on:{handleItemUpdate:t.handleItemUpdate}},"TodoEditForm",e,!1))],1):n("div",[n("TodoItem",t._b({key:e.id,on:{handleItemDel:t.handleItemDel,handleItemEdit:t.handleItemEdit,handleItemUpdate:t.handleItemUpdate}},"TodoItem",e,!1))],1)])})),0)])]),n("hr"),n("div",{staticClass:"col alert alert-success",attrs:{role:"alert"}},[t._v("click to complete, double-click to edit.")])])}),c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"header col"},[n("h1",{staticClass:"text-center white-text font-weight-bold"},[t._v("Todo")])])])}],a=n("5530"),d=(n("d3b7"),n("d81d"),n("c740"),n("a434"),n("4e82"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{dblclick:function(e){return t.onItemEdit()}}},[n("div",{staticClass:"text-truncate",class:{completed:t.item.completed},on:{click:function(e){return t.onItemComplete()}}},[n("span",[t._v(t._s(t.item.title))]),n("button",{staticClass:"close",on:{click:function(e){return t.onItemDel()}}},[t._v("Ã—")])])])}),l=[],u=(n("a9e3"),{name:"TodoItem",props:{id:Number,title:String,completed:Boolean,isEditing:Boolean},data:function(){return{}},methods:{onItemComplete:function(){var t={id:this.item.id,title:this.item.title,completed:!this.item.completed,isEditing:this.item.isEditing};this.$emit("handleItemUpdate",t)},onItemEdit:function(){this.$emit("handleItemEdit",this.item)},onItemDel:function(){this.$emit("handleItemDel",this.item)}},computed:{item:function(){return{id:this.id,title:this.title,completed:this.completed,isEditing:this.isEditing}}}}),m=u,p=(n("24e7"),n("2877")),h=Object(p["a"])(m,d,l,!1,null,null,null),f=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newInput,expression:"newInput"}],staticClass:"form-control",attrs:{type:"text",autofocus:"",autocomplete:"off"},domProps:{value:t.newInput},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onItemAdd()},input:function(e){e.target.composing||(t.newInput=e.target.value)}}})])},I=[],g=(n("498a"),{name:"TodoInputForm",data:function(){return{newInput:""}},methods:{getDateNow:function(){return Date.now()},onItemAdd:function(){this.newInput.trim()&&(this.$emit("handleItemAdd",{id:this.getDateNow(),title:this.newInput,isCompleted:!1,isEditing:!1}),this.newInput="")}}}),y=g,b=Object(p["a"])(y,v,I,!1,null,null,null),w=b.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newInput,expression:"newInput"}],staticClass:"form-control",attrs:{type:"text",autofocus:"",autocomplete:"off"},domProps:{value:t.newInput},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onItemUpdate()},input:function(e){e.target.composing||(t.newInput=e.target.value)}}})])},T=[],x={name:"TodoEditForm",props:{id:Number,title:String,completed:Boolean,isEditing:Boolean},data:function(){return{newInput:this.title}},methods:{onItemUpdate:function(){this.item.title.trim()&&(this.item.isEditing=!1,this.$emit("handleItemUpdate",this.item))}},computed:{item:function(){return{id:this.id,title:this.newInput,completed:this.completed,isEditing:this.isEditing}}}},_=x,j=Object(p["a"])(_,E,T,!1,null,null,null),S=j.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-success",on:{click:t.onItemSort}},[t._v("Sort by "+t._s(t.sortType))])},k=[],O=["asc","desc","time"],$={name:"TodoItemSort",props:{sortType:String},methods:{onItemSort:function(){var t=this,e=O.findIndex((function(e){return e===t.sortType}));Number(e)+1>=O.length?this.$emit("handleItemSort",O[0]):this.$emit("handleItemSort",O[Number(e)+1])}}},D=$,U=Object(p["a"])(D,C,k,!1,null,null,null),P=U.exports,A="https://my-json-server.typicode.com/siang-chang/json-server-demo",N={name:"Todo",components:{TodoItem:f,TodoInputForm:w,TodoEditForm:S,TodoItemSort:P},data:function(){return{isLoading:!1,isError:!1,items:[],sortType:"asc"}},created:function(){},mounted:function(){this.ajaxServerItemsLoad()},beforeDestroy:function(){},methods:{ajaxServerItemsLoad:function(){var t=this;this.isLoading=!0,fetch("".concat(A,"/posts"),{method:"GET"}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(e){t.items=e.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{isEditing:!1})}))})).catch((function(e){console.error(e),t.isError=!0})).finally((function(){t.isLoading=!1}))},ajaxServerItemAdd:function(t){var e=t.id,n=t.title,i=t.completed,o={id:e,title:n,completed:i};fetch("".concat(A,"/posts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){console.log("Successfully added:",t)})).catch((function(t){console.error("error:",t)}))},ajaxServerItemUpdate:function(t){var e=t.id,n=t.title,i=t.completed,o={id:e,title:n,completed:i};fetch("".concat(A,"/posts/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){console.log("Successfully update:",t)})).catch((function(t){console.error("error:",t)}))},ajaxServerItemDelete:function(t){var e=t.id;fetch("".concat(A,"/posts/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){console.log("Successfully deleted",t)})).catch((function(t){console.error("error:",t)}))},handleItemAdd:function(t){this.ajaxServerItemAdd(t),this.items.push(t)},handleItemEdit:function(t){var e=this.items.findIndex((function(e){return e.id===t.id}));this.items[e].isEditing=!this.items[e].isEditing},handleItemUpdate:function(t){this.ajaxServerItemUpdate(t);var e=this.items.findIndex((function(e){return e.id===t.id}));this.$set(this.items,e,t)},handleItemDel:function(t){this.ajaxServerItemDelete(t);var e=this.items.findIndex((function(e){return e.id===t.id}));this.items.splice(e,1)},handleItemSort:function(t){this.sortType=t,"asc"===t&&(this.items=this.items.sort((function(t,e){return t.title.localeCompare(e.title,"zh-Hans-TW-u-co-stroke")}))),"desc"===t&&(this.items=this.items.sort((function(t,e){return e.title.localeCompare(t.title,"zh-Hans-TW-u-co-stroke")}))),"time"===t&&(this.items=this.items.sort((function(t,e){return e.id-t.id})))}}},L=N,F=Object(p["a"])(L,s,c,!1,null,"50bccd0c",null),B=F.exports,J={name:"App",components:{Todo:B}},M=J,z=(n("5c0b"),Object(p["a"])(M,o,r,!1,null,null,null)),H=z.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(H)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},e4cc:function(t,e,n){}});
//# sourceMappingURL=index.9e2282f0.js.map