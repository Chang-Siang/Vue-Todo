(function(t){function e(e){for(var o,s,l=e[0],a=e[1],c=e[2],u=0,m=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,l=1;l<n.length;l++){var a=n[l];0!==i[a]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=a;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"24e7":function(t,e,n){"use strict";n("e4cc")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Todo")],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo container"},[t._m(0),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("TodoInputForm",{on:{handleItemAdd:t.handleItemAdd}})],1)]),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("TodoItemSort",{attrs:{sortType:t.sortType},on:{handleItemSort:t.handleItemSort}})],1)]),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t.loading?n("div",[t._v("Loading...")]):t.error?n("div",[t._v("An unexpected error has occurred.")]):t._e(),n("ul",{staticClass:"list-group"},t._l(t.items,(function(e){return n("li",{key:e.id,staticClass:"list-group-item list-group-item-action"},[e.isEditing?n("div",[n("TodoEditForm",t._b({key:e.id,on:{handleItemUpdate:t.handleItemUpdate}},"TodoEditForm",e,!1))],1):n("div",[n("TodoItem",t._b({key:e.id,on:{handleItemDel:t.handleItemDel,handleItemEdit:t.handleItemEdit,handleItemUpdate:t.handleItemUpdate}},"TodoItem",e,!1))],1)])})),0)])]),n("hr"),n("div",{staticClass:"col-12 alert alert-success",attrs:{role:"alert"}},[t._v(" click to complete, double-click to edit. ")])])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"header col-12"},[n("h1",{staticClass:"text-center white-text font-weight-bold"},[t._v("Todo")])])])}],a=(n("d3b7"),n("d81d"),n("c740"),n("a434"),n("4e82"),n("f9e3"),n("1466"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{dblclick:t.onItemEdit}},[n("div",{staticClass:"text-truncate",class:{completed:t.item.completed},on:{click:t.onItemComplete}},[t._v(" "+t._s(t.item.title)+" "),n("button",{staticClass:"close",on:{click:t.onItemDel}},[t._v("Ã—")])])])}),c=[],d=(n("a9e3"),{name:"TodoItem",props:{id:Number,title:String,completed:Boolean,isEditing:Boolean},data:function(){return{item:{id:this.id,title:this.title,completed:this.completed,isEditing:this.isEditing}}},methods:{onItemComplete:function(){this.item.completed=!this.item.completed,this.$emit("handleItemUpdate",this.item)},onItemEdit:function(){this.$emit("handleItemEdit",this.item)},onItemDel:function(){this.$emit("handleItemDel",this.item)}}}),u=d,m=(n("24e7"),n("2877")),p=Object(m["a"])(u,a,c,!1,null,null,null),h=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newInput,expression:"newInput"}],staticClass:"form-control",attrs:{type:"text",autofocus:"",autocomplete:"off"},domProps:{value:t.newInput},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onItemAdd.apply(null,arguments)},input:function(e){e.target.composing||(t.newInput=e.target.value)}}})])},v=[],I={name:"TodoInputForm",data:function(){return{newInput:""}},methods:{onItemAdd:function(){this.newInput.length>0&&(this.$emit("handleItemAdd",{id:+new Date,title:this.newInput,isCompleted:!1,isEditing:!1}),this.newInput="")}}},g=I,y=Object(m["a"])(g,f,v,!1,null,null,null),b=y.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.title,expression:"item.title"}],staticClass:"form-control",attrs:{type:"text",autofocus:"",autocomplete:"off"},domProps:{value:t.item.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onItemUpdate.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.item,"title",e.target.value)}}})])},E=[],w={name:"TodoEditForm",props:{id:Number,title:String,completed:Boolean,isEditing:Boolean},data:function(){return{item:{id:this.id,title:this.title,completed:this.completed,isEditing:this.isEditing}}},methods:{onItemUpdate:function(){this.item.title.length>0&&(this.item.isEditing=!1,this.$emit("handleItemUpdate",this.item))}}},x=w,_=Object(m["a"])(x,T,E,!1,null,null,null),S=_.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-success",on:{click:t.onItemSort}},[t._v(" Sort by "+t._s(t.sortType)+" ")])},C=[],k=["asc","desc","time"],O={name:"TodoItemSprt",props:{sortType:String},methods:{onItemSort:function(){var t=this,e=k.findIndex((function(e){return e===t.sortType}));Number(e)>=2?this.$emit("handleItemSort","asc"):this.$emit("handleItemSort",k[e+1])}}},$=O,U=Object(m["a"])($,j,C,!1,null,null,null),P=U.exports,A="https://my-json-server.typicode.com/Chang-Siang/demo/",D={name:"Todo",components:{TodoItem:h,TodoInputForm:b,TodoEditForm:S,TodoItemSort:P},data:function(){return{loading:!1,error:!1,items:[],sortType:"asc"}},methods:{ajaxServerItemsLoad:function(){var t=this;fetch(A+"posts",{method:"GET"}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(e){var n=e.map((function(t){return Object.assign({},t,{isEditing:!1})}));t.items=n,t.loading=!1})).catch((function(e){console.error(e),t.error=!0,t.loading=!1}))},ajaxServerItemAdd:function(t){var e=t.id,n=t.title,o=t.completed,i={id:e,title:n,completed:o};fetch(A+"posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){console.log("Successfully added:",t)})).catch((function(t){console.error("error:",t)}))},ajaxServerItemUpdate:function(t){var e=t.id,n=t.title,o=t.completed,i={id:e,title:n,completed:o};fetch(A+"posts/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){console.log("Successfully update:",t)})).catch((function(t){console.error("error:",t)}))},ajaxServerItemDelete:function(t){var e=t.id;fetch(A+"posts/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).then((function(t){console.log("Successfully deleted",t)})).catch((function(t){console.error("error:",t)}))},handleItemAdd:function(t){this.ajaxServerItemAdd(t),this.items.push(t)},handleItemEdit:function(t){var e=this.items.findIndex((function(e){return e.id===t.id}));this.items[e].isEditing=!this.items[e].isEditing},handleItemUpdate:function(t){this.ajaxServerItemUpdate(t);var e=this.items.findIndex((function(e){return e.id===t.id}));this.$set(this.items,e,t)},handleItemDel:function(t){this.ajaxServerItemDelete(t);var e=this.items.findIndex((function(e){return e.id===t.id}));this.items.splice(e,1)},handleItemSort:function(t){this.sortType=t,"asc"===t&&(this.items=this.items.sort((function(t,e){return t.title.localeCompare(e.title,"zh-Hans-TW-u-co-stroke")}))),"desc"===t&&(this.items=this.items.sort((function(t,e){return e.title.localeCompare(t.title,"zh-Hans-TW-u-co-stroke")}))),"time"===t&&(this.items=this.items.sort((function(t,e){return e.id-t.id})))}},created:function(){console.log("created")},mounted:function(){console.log("mounted"),this.loading=!0,this.ajaxServerItemsLoad()},updated:function(){console.log("updated")}},F=D,N=Object(m["a"])(F,s,l,!1,null,"8d713a44",null),B=N.exports,J={name:"App",components:{Todo:B}},L=J,M=(n("5c0b"),Object(m["a"])(L,i,r,!1,null,null,null)),z=M.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(z)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},e4cc:function(t,e,n){}});
//# sourceMappingURL=app.8a0948e9.js.map